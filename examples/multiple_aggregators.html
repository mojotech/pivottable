<!DOCTYPE html>
<html>

    <head>
        <title>Pivot Demo</title>
        <link rel="stylesheet" type="text/css" href="../dist/css/pivot.css">
        <script type="text/javascript" src="ext/jquery-1.8.3.min.js"></script>
        <script type="text/javascript" src="ext/jquery-ui-1.9.2.custom.min.js"></script>
        <script type="text/javascript" src="../dist/pivot.core.js"></script>
        <script type="text/javascript" src="../dist/aggregators/templates/sum.js"></script>
        <script type="text/javascript" src="../dist/aggregators/templates/average.js"></script>
        <script type="text/javascript" src="../dist/aggregators/sum-as-fraction.js"></script>
        <script type="text/javascript" src="../dist/renderers/table.js"></script>
    </head>
    <style>
    * {
        font-family: Verdana;
    }
    </style>

    <body>
        <script type="text/javascript">
        $(function() {

            var data = [{
                color: "blue",
                shape: "circle",
                size: "large",
                env: "dev",
                value: 10
            }, {
                color: "red",
                shape: "triangle",
                size: "large",
                env: "dev",
                value: 15
            }, {
                color: "red",
                shape: "circle",
                size: "med",
                env: "prod",
                value: 20
            }, {
                color: "red",
                shape: "triangle",
                size: "med",
                env: "dev",
                value: 25
            }, {
                color: "blue",
                shape: "circle",
                size: "small",
                env: "prod",
                value: 30
            }];

            $("#output").pivot(data, {
                "aggregators": [
                    $.pivotUtilities.aggregators["Sum"](["value"]),
                    $.pivotUtilities.aggregators["Average"](["value"]),
                    $.pivotUtilities.aggregators["Sum as Fraction of Total"](["value"])
                ],
                "aggregatorName": "List Unique",
                "renderer": $.pivotUtilities.renderers["Table"],
                "rendererOptions": {
                  "aggregators": [
                    {
                      "name": "Sum",
                      "pos": 0,
                      "values": [
                        "Value"
                      ]
                    },
                    {
                      "name": "Avg",
                      "pos": 1,
                      "values": [
                        "Value"
                      ]
                    },
                    {
                      "name": "Sum/Total",
                      "pos": 2,
                      "values": [
                        "Value"
                      ]
                    }
                  ]
                },
                "cols": ["color"],
                "rows": ["shape"]
            });
        });
        </script>

        <p><a href="index.html">&laquo; back to examples</a>
        </p>
        <div id="output" style="margin: 10px;"></div>

    </body>

</html>
